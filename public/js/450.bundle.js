"use strict";(self.webpackChunkisomorphic_react=self.webpackChunkisomorphic_react||[]).push([[450],{3111:(e,t,n)=>{function r(){return"https://cheapcrypto.app"}function a(){return"https://cheapcrypto.app"}n.d(t,{h:()=>r,p:()=>a})},1450:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(4065),a=n(7896),o=n(9573),c=n(8732),s=n(2658),i=n(8152),u=n(1508),l=n(6447),p=n(9041),m=n(5861),h=n(8396),d=n(4942),f=n(8102),v=n(3694),Z=n(7757),g=n.n(Z),E=n(7294),b=n(3328),w=n(1016),y=n(3111),x=n(8767),k=n(9755),C=n(9602);function j(){var e,t=(e=v.Z,(0,C.ZP)(e)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}))),n=(0,C.ZP)(f.Z)((function(e){var t,n=e.theme;return t={},(0,d.Z)(t,"&.".concat(k.Z.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),(0,d.Z)(t,"&.".concat(k.Z.body),{fontSize:14}),t})),Z=(0,h.Z)("(min-width:620px)");(0,E.useEffect)((0,m.Z)(g().mark((function e(){var t,n,r,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat((0,y.h)(),"/get-countries-by-visitors"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,fetch("https://unpkg.com/world-atlas/countries-50m.json");case 8:return r=e.sent,e.next=11,r.json();case 11:a=e.sent,o=w.topojson.feature(a,a.objects.countries).features,new b.Chart(document.getElementById("canvas").getContext("2d"),{type:"choropleth",data:{labels:o.map((function(e){return e.properties.name})),datasets:[{label:"Countries",data:n}]},options:{responsive:!0,showOutline:!0,showGraticule:!1,plugins:{legend:{display:!1}},scales:{xy:{projection:"mercator"}},aspectRatio:1}});case 14:case"end":return e.stop()}}),e)}))));var j=(0,x.useQuery)("visitCounts",(0,m.Z)(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get-visit-counts");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),O=(j.status,j.isLoading),B=j.error,P=j.data;if(O)return E.createElement(u.Z,{m:2},E.createElement(l.Z,{p:2,direction:"row",spacing:1},E.createElement(p.Z,null)));if(B)return"An error has occurred: "+B.message;var S=Object.entries(P).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,d.Z)({},n,r)}));return E.createElement("div",{style:{position:"relative",height:"100vh",width:"100vw"}},E.createElement("canvas",{style:{paddingBottom:"40px"},id:"canvas"}),E.createElement(l.Z,{direction:Z?"row":"column"},S.map((function(e,u){return E.createElement(r.Z,{key:"stack-".concat(u),sx:{paddingBottom:"40px"}},E.createElement(s.Z,{variant:"h6",gutterBottom:!0,component:"h2"},Object.keys(e)[0]),E.createElement(a.Z,null,E.createElement(o.Z,null,E.createElement(c.Z,null,Object.entries(Object.values(e)[0]).map((function(e,r){var a=(0,i.Z)(e,2),o=a[0],c=a[1];return E.createElement(t,{key:r},E.createElement(n,{align:"left"},E.createElement("strong",{style:{textTransform:"capitalize"}},o)),E.createElement(n,{align:"center"},c))}))))))}))))}b.Chart.register(w.ChoroplethController,w.GeoFeature,w.ColorScale,w.ProjectionScale),b.Chart.register([b.Tooltip])}}]);
//# sourceMappingURL=450.bundle.js.map